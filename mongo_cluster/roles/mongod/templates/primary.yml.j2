sharding:
  clusterRole: shardsvr
replication:
  replSetName: {{ primary }}
systemLog:
  destination: file
  logAppend: true
  logRotate: rename
  path: {{ loghome }}/mongod.log
processManagement:
  fork: true
net:
  bindIp: {{ ansible_default_ipv4['address'] }}
  port: {{ primaryport }}
  http:
    enabled: false
  maxIncomingConnections: 1000
operationProfiling:
  mode: slowOp
  slowOpThresholdMs: 100
{% if authorization in "enabled" %}
security:
  authorization: {{ authorization }}
{% endif %}
storage:
  dbPath: {{ primarydata }}
  wiredTiger:
    engineConfig:
      cacheSizeGB: {{ maxmem }}
      directoryForIndexes: true
    collectionConfig:
      blockCompressor: zlib
    indexConfig:
      prefixCompression: true
  directoryPerDB: true
